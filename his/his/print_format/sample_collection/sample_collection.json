{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-02-20 10:30:12.424664",
 "css": "\n\n\n\n*{\n    margin: 0px !important;\n    padding: 0px !important;\n}\n/**/\n \n\n/**/\n.barcode{\n    font-size: 10px  !important;\n}\n.main_div{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100vh;\n}\n\n.main_div{\n      page-break-after: always; \n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sample Collection",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" href=\"styles.css\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.9.0/dist/JsBarcode.all.min.js\"></script>\r\n</head>\r\n<body>\r\n\r\n{% if doc.lab_test %}\r\n  {% set departments = {} %}\r\n\r\n  {# Group lab tests by lab_department #}\r\n  {% for samp in doc.lab_test %}\r\n    {% if samp.lab__department not in departments %}\r\n      {% set departments = departments.update({samp.lab__department: samp.sample}) %}\r\n    {% endif %}\r\n  {% endfor %}\r\n\r\n\r\n  {% for department, sample in departments.items() %}\r\n    <div class=\"main_div\">\r\n    \r\n      <p style =\"text-align: center; font-size: 8px;  width: 100%; white-space: nowrap; overflow: hidden; font-weight: bold;  \"> {{ doc.patient_name or '' }}</p>\r\n    <span style=\"padding-left: 10px; white-space: nowrap; font-size: 8px; font-weight: bold;\">\r\n         {{ doc.patient or '' }} / <strong style = \"font-size: 10px\">{{ doc.token_no }}</strong>\r\n        </span>\r\n\r\n      \r\n      \r\n        <span>  {%- set time = doc.get_formatted('sample_time') -%}{{ time[:8] }}  </span> \r\n      <p class=\"barcode\">\r\n        <span style=\"display:none;\" id=\"patient{{ loop.index }}\">{{ doc.lab_ref }}</span>\r\n        <!--<span><span>{{ doc.sample_time}}</span></span>-->\r\n        <svg style=\"display:none;\" id=\"barcode{{ loop.index }}\"></svg>\r\n      </p>\r\n\r\n      <script>\r\n        document.addEventListener('DOMContentLoaded', function () {\r\n          let barcode = document.getElementById(\"barcode{{ loop.index }}\");\r\n          let input = document.getElementById(\"patient{{ loop.index }}\").textContent;\r\n          JsBarcode(barcode, input, {\r\n            format: \"CODE128\",\r\n            width: 1,\r\n            height: 20,\r\n          });\r\n        });\r\n      </script>\r\n    </div>\r\n  {% endfor %}\r\n{% endif %}\r\n\r\n</body>\r\n</html>\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-04-28 10:38:39.113410",
 "modified_by": "Administrator",
 "module": "HIS",
 "name": "Sample Collection",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}